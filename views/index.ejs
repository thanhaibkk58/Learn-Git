<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title><%= user.firstname + " " + user.lastname %></title>

    <!-- Favicon -->
    <link rel="icon" href="../public/dist/media/img/favicon.png" type="image/png">

    <!-- Soho css -->
    <!--    <link rel="stylesheet" href="../../public/dist/css/soho.min.css" type="text/css">-->
    <link rel="stylesheet" href="stylesheets/style.css" type="text/css">
</head>
<body class="dark">

<!-- new group modal -->
<div class="modal fade" id="newGroup" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-zoom" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="fa fa-users"></i> New Group
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="ti-close"></i>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="group_name" class="col-form-label">Group name</label>
                        <input type="text" class="form-control" id="group_name">
                    </div>

                    <div class="form-group">
                        <label for="users" class="col-form-label">Find friends</label>
                        <input type="text" class="form-control" placeholder="Search ..." id="input_search_friends">
                    </div>

                    <ul class="list-group list-group-flush" style="height: 200px; overflow: scroll; overflow-x: hidden;"
                        id="ul_list_friends_groupchat">
                        <!-- List friends (Group chat) -->
                    </ul>

                    <div class="form-group">
                        <label for="description" class="col-form-label">Description</label>
                        <textarea class="form-control" id="description"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="btn_create_group_chat" type="button" class="btn btn-primary">Create Group</button>
            </div>
        </div>
    </div>
</div>
<!-- ./ new group modal -->

<!-- update group modal -->
<div class="modal fade" id="updateGroup" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-zoom" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="fa fa-users"></i> Update Group
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="ti-close"></i>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="group_name" class="col-form-label">Group name</label>
                        <input type="text" class="form-control" id="group_name_update">
                    </div>

                    <div class="form-group">
                        <label for="users" class="col-form-label">Find friends</label>
                        <input type="text" class="form-control" placeholder="Search ..." id="input_search_friends">
                    </div>

                    <ul class="list-group list-group-flush" style="height: 200px; overflow: scroll; overflow-x: hidden;"
                        id="ul_list_friends_groupchat_update">
                        <!-- List friends (Update) -->
                    </ul>

                    <div class="form-group">
                        <label for="description" class="col-form-label">Description</label>
                        <textarea class="form-control" id="description_update"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="btn_update_group_chat" type="button" class="btn btn-primary">Update</button>
            </div>
        </div>
    </div>
</div>
<!-- ./ update group modal -->

<!-- delete group modal -->
<div class="modal fade" id="deleteGroup" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-zoom" role="document">
        <div class="modal-content">
            <div class="modal-header" style="height: 30px">
                <h6 class="modal-title">
                    <i class="fa fa-users"></i> Delete Group
                </h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="ti-close"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>Delete this group and all messages... You sure?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="btn_confirm_delete_group">Yes</button>
            </div>
        </div>
    </div>
</div>
<!-- ./ delete group modal -->

<!-- delete message modal -->
<div class="modal fade" id="deleteMessage" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-zoom" role="document">
        <div class="modal-content">
            <div class="modal-header" style="height: 30px">
                <h6 class="modal-title">
                    <i class="fa fa-users"></i> Delete Message
                </h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="ti-close"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>Delete this message... You sure?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="btn_delete_message">Yes</button>
            </div>
        </div>
    </div>
</div>
<!-- ./ delete message modal -->

<!-- edit profile modal -->
<div class="modal fade" id="editProfileModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-zoom" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="ti-pencil"></i> Profile Edit
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="ti-close"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tab-content">
                    <div class="tab-pane show active" id="personal" role="tabpanel">
                        <form action="/user/update" method="POST" enctype="multipart/form-data">
                            <div class="form-group">
                                <label for="email" class="col-form-label">ID</label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <i class="ti-id-badge"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" id="userID" value="<%= user._id %>"
                                           disabled>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="email" class="col-form-label">Email</label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <i class="ti-email"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" id="email" name="email"
                                           value="<%= user.email %>">
                                </div>
                            </div>
                            <!-- Firstname -->
                            <div class="form-group">
                                <label for="fullname" class="col-form-label">First name</label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <i class="ti-user"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" id="firstname" name="firstname"
                                           value="<%= user.firstname %>">
                                </div>
                            </div>
                            <!-- Lastname -->
                            <div class="form-group">
                                <label for="fullname" class="col-form-label">Last name</label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <i class="ti-user"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" id="fullname" name="lastname"
                                           value="<%= user.lastname %>">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-form-label">Avatar</label>
                                <div class="d-flex align-items-center">
                                    <div>
                                        <figure class="avatar mr-3 item-rtl">
                                            <img src="<%= user.avatar_url %>" class="rounded-circle">
                                        </figure>
                                    </div>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="customFile" name="image"
                                               accept=".png, .jpg, .jpeg, .gif"
                                               enctype="multipart/form-data">
                                        <label class="custom-file-label" for="customFile" id="label_choose_image">Choose
                                            file</label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="city" class="col-form-label">City</label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <i class="ti-map-alt"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" id="city">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="phone" class="col-form-label">Phone</label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <i class="ti-mobile"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" id="phone" placeholder="(555) 555 55 55">
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-primary">Save</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- ./ edit profile modal -->

<!-- profile modal -->
<div class="modal fade" id="profileModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-zoom" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Information</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="ti-close"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="tab-content">
                    <div class="tab-pane show active" id="personal" role="tabpanel">
                        <div id="contact-information" class="sidebar active">
                            <div class="sidebar-body">
                                <div class="pl-4 pr-4 text-center">
                                    <figure class="avatar avatar-xl mb-4">
                                        <img src="https://www.vasjamaica.com/sites/default/files/fb_avatar_0_0.jpg"
                                             id="user_avatar" class="rounded-circle">
                                    </figure>
                                    <h5 class="text-primary" id="user_fullname">Fullname</h5>
                                </div>
                                <hr>
                                <div class="pl-4 pr-4">
                                    <h6>Email</h6>
                                    <p class="text-muted" id="user_email">example@gmail.com</p>
                                </div>
                                <hr>
                                <div class="pl-4 pr-4">
                                    <h6>First name</h6>
                                    <p class="text-muted" id="user_firstname">Tên</p>
                                </div>
                                <hr>
                                <div class="pl-4 pr-4">
                                    <h6>Last name</h6>
                                    <p class="text-muted" id="user_lastname">Họ Đệm</p>
                                </div>
                                <hr>
                                <div class="pl-4 pr-4">
                                    <h6>Sex</h6>
                                    <p class="text-muted" id="user_sex">Giới tính</p>
                                </div>
                                <hr>
                                <div class="pl-4 pr-4">
                                    <h6>City</h6>
                                    <p class="text-muted">TP. Hà Nội</p>
                                </div>
                                <hr>
                                <div class="pl-4 pr-4">
                                    <h6>Phone number</h6>
                                    <p class="text-muted">+84 366 675 787</p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- ./ profile modal -->

<!-- layout -->
<div class="layout">

    <!-- navigation -->
    <nav class="navigation">
        <div class="nav-group">
            <ul>
                <li>
                    <a class="logo" href="#">
                        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                             xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                             width="33.004px" height="33.003px" viewBox="0 0 33.004 33.003"
                             style="enable-background:new 0 0 33.004 33.003;"
                             xml:space="preserve">
                            <g>
                                <path d="M4.393,4.788c-5.857,5.857-5.858,15.354,0,21.213c4.875,4.875,12.271,5.688,17.994,2.447l10.617,4.161l-4.857-9.998
                                    c3.133-5.697,2.289-12.996-2.539-17.824C19.748-1.072,10.25-1.07,4.393,4.788z M25.317,22.149l0.261,0.512l1.092,2.142l0.006,0.01
                                    l1.717,3.536l-3.748-1.47l-0.037-0.015l-2.352-0.883l-0.582-0.219c-4.773,3.076-11.221,2.526-15.394-1.646
                                    C1.469,19.305,1.469,11.481,6.277,6.672c4.81-4.809,12.634-4.809,17.443,0.001C27.919,10.872,28.451,17.368,25.317,22.149z"/>
                                <g>
                                    <circle cx="9.835" cy="16.043" r="1.833"/>
                                    <circle cx="15.502" cy="16.043" r="1.833"/>
                                    <circle cx="21.168" cy="16.043" r="1.833"/>
                                </g>
                            </g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                        </svg>
                    </a>
                </li>
                <li>
                    <a data-navigation-target="chats" class="active" href="#">
                        <i class="ti-comment-alt"></i>
                    </a>
                </li>
                <li>
                    <a data-navigation-target="friends" href="#">
                        <i class="ti-user"></i>
                    </a>
                </li>
                <li data-navigation-target="favorites" class="brackets">
                    <a href="#">
                        <i class="ti-search"></i>
                    </a>
                </li>
                <li>
                    <a href="#" data-toggle="modal" data-target="#editProfileModal">
                        <i class="ti-pencil"></i>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="ti-settings"></i>
                    </a>
                </li>
                <li>
                    <a href="/logout">
                        <i class="ti-power-off"></i>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
    <!-- ./ navigation -->

    <!-- content -->
    <div class="content">

        <!-- sidebar group -->
        <div class="sidebar-group">

            <!-- Chats sidebar -->
            <div id="chats" class="sidebar active">
                <header>
                    <span>Chats</span>
                    <ul class="list-inline">
                        <li class="list-inline-item" data-toggle="tooltip" title="New Group">
                            <a class="btn btn-light" href="#" data-toggle="modal" data-target="#newGroup">
                                <i class="fa fa-users"></i>
                            </a>
                        </li>
                    </ul>
                </header>
                <form action="">
                    <input id="input_search_chat" type="text" class="form-control" placeholder="Search Chats">
                </form>
                <div class="sidebar-body">
                    <ul class="list-group list-group-flush" id="ul-list-groups">
                        <!-- List Groups -->
                    </ul>

                    <ul class="list-group list-group-flush" id="ul-list-friends">
                        <!-- List Chats -->
                    </ul>
                </div>
            </div>
            <!-- ./ Chats sidebar -->

            <!-- Friends sidebar -->
            <div id="friends" class="sidebar">
                <header>
                    <span>Requests</span>
                </header>
                <form action="">
                    <input type="text" class="form-control" placeholder="Search Requests">
                </form>
                <div class="sidebar-body" style="overflow-y: scroll; height:400px;">
                    <ul class="list-group list-group-flush" id="ul-list-request-friends">
                        <!-- Add list friends-->
                    </ul>
                    <ul class="list-group list-group-flush" id="ul-sent-requests">
                        <!-- Add sent requests-->
                    </ul>
                </div>
            </div>
            <!-- ./ Friends sidebar -->

            <!-- Favorites sidebar -->
            <div id="favorites" class="sidebar">
                <header>
                    <span>Friends</span>
                    <ul class="list-inline">
                        <li class="list-inline-item d-lg-none d-sm-block">
                            <a href="#" class="btn btn-light sidebar-close">
                                <i class="ti-close"></i>
                            </a>
                        </li>
                    </ul>
                </header>
                <form action="">
                    <input id="input_search_users" type="text" class="form-control" placeholder="Search Friends">
                </form>
                <div class="sidebar-body">
                    <ul class="list-group list-group-flush" id="ul-all-users">
                        <!-- Add sent requests-->
                    </ul>
                </div>
            </div>
            <!-- ./ Stars sidebar -->

        </div>
        <!-- ./ sidebar group -->

        <!-- chat -->
        <div class="chat" id="tab_chat">
            <div class="chat-header">
                <div class="chat-header-user">
                    <figure class="avatar avatar-lg">
                        <img src="https://www.vasjamaica.com/sites/default/files/fb_avatar_0_0.jpg" id="fr_chat_avatar"
                             class="rounded-circle">
                    </figure>
                    <div>
                        <h5 id="fr_chat_fullname">Fullname</h5>
                    </div>
                </div>
            </div>
            <div class="chat-body">

                <ul id="ul_list_message" class="messages">
                </ul>
            </div>
            <div class="chat-footer">
                <form action="">
                    <input type="text" class="form-control" placeholder="Type a message ..."
                           aria-label="Type a message ..." aria-describedby="button-addon2">
                    <div class="form-buttons">
                        <input type="file" style="opacity: 0" class="btn btn-light btn-floating" id="input_image"
                               accept=".png, .jpg, .jpeg, .gif">
                        <label for="input_image" class="btn btn-light btn-floating"><i class="fa fa-image"></i></label>
                        <!--                        <button class="btn btn-light btn-floating" type="button">-->
                        <!--                            <i class="fa fa-image"></i>-->
                        <!--                        </button>-->
                        <button class="btn btn-light btn-floating" type="button">
                            <i class="fa fa-smile-o"></i>
                        </button>
                        <button id="send_message" class="btn btn-primary btn-floating" type="submit">
                            <i class="fa fa-send"></i>
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <!-- ./ chat -->

        <div class="sidebar-group" id="tab_info">
            <div id="contact-information" class="sidebar active">
                <header>
                    <span>About</span>
                </header>
                <div class="sidebar-body">
                    <div class="pl-4 pr-4 text-center">
                        <figure class="avatar avatar-xl mb-4">
                            <img src="https://www.vasjamaica.com/sites/default/files/fb_avatar_0_0.jpg"
                                 id="profile_friend_avt" class="rounded-circle">
                        </figure>
                        <h5 class="text-primary" id="profile_friend_fullname">Fullname</h5>
                    </div>
                    <div id="div_profile_friend">
                        <hr>
                        <div class="pl-4 pr-4">
                            <h6>Email</h6>
                            <p class="text-muted" id="profile_friend_email">example@gmail.com</p>
                        </div>
                        <hr>
                        <div class="pl-4 pr-4">
                            <h6>First name</h6>
                            <p class="text-muted" id="profile_friend_firstname">Tên</p>
                        </div>
                        <hr>
                        <div class="pl-4 pr-4">
                            <h6>Last name</h6>
                            <p class="text-muted" id="profile_friend_lastname">Họ Đệm</p>
                        </div>
                        <hr>
                        <div class="pl-4 pr-4">
                            <h6>Sex</h6>
                            <p class="text-muted" id="profile_friend_sex">None</p>
                        </div>
                        <hr>
                        <div class="pl-4 pr-4">
                            <h6>City</h6>
                            <p class="text-muted">TP. Hà Nội</p>
                        </div>
                        <hr>
                        <div class="pl-4 pr-4">
                            <h6>Phone number</h6>
                            <p class="text-muted">+84 366 675 787</p>
                        </div>
                        <hr>
                        <div class="pl-4 pr-4">
                            <h6>Total number of messages</h6>
                            <p class="text-muted" id="total_messages">0</p>
                        </div>
                        <hr>
                        <div class="form-group text-xl-center">
                            <button id="btn_delete_friend" type="button" class="btn btn-outline-danger btn-block">Delete
                                Friend
                            </button>
                        </div>
                    </div>

                    <div id="div_info_group">
                        <hr>
                        <div class="pl-4 pr-4">
                            <h6>Description</h6>
                            <p class="text-muted" id="info_group_description">I love reading, traveling and discovering new things. You need to be
                                happy in life.</p>
                        </div>
                        <hr>
                        <ul id="ul_list_members" class="list-group list-group-flush">
                            <!-- Add member -->
                        </ul>
                        <hr>
                        <div class="pl-4 pr-4">
                            <h6>Total number of messages</h6>
                            <p class="text-muted" id="total_messages_group">0</p>
                        </div>
                        <hr>
                        <div class="form-group text-xl-center">
                            <button id="btn_update_group" type="button" class="btn btn-outline-primary btn-block">
                                Update Group
                            </button>
                        </div>
                        <hr>
                        <div class="form-group text-xl-center">
                            <button id="btn_delete_group" type="button" class="btn btn-outline-danger btn-block">
                                Delete Group
                            </button>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    </div>
    <!-- ./ content -->

</div>
<!-- ./ layout -->

<!-- JQuery -->
<!--<script src="../../public/vendor/jquery-3.4.1.min.js"></script>-->
<script src="vendor/jquery-3.4.1.min.js"></script>

<!-- Popper.js -->
<script src="vendor/popper.min.js"></script>

<!-- Bootstrap -->
<script src="vendor/bootstrap/bootstrap.min.js"></script>

<!-- Nicescroll -->
<script src="vendor/jquery.nicescroll.min.js"></script>

<!-- Soho -->
<script src="dist/js/soho.min.js"></script>

<!-- Examples -->
<script src="dist/js/examples.js"></script>

<script src="/socket.io/socket.io.js"></script>

<script src="/javascripts/JS_Chat.js" type="text/javascript"></script>


</body>
</html>
